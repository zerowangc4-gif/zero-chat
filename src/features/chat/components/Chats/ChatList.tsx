import { FlatList, StyleSheet } from "react-native";
import styled from "styled-components/native";
import { ChatItem, ChatItemProps } from "./ChatItem";
import { SearchEntry } from "./SearchEntry";
import { useApp } from "@/hooks";

const Container = styled.View`
  flex: 1;
`;

const MOCK_DATA = [
  {
    username: "Zorro",
    publicKey: "key-v1-01",
    avatarSeed: "seed_8291",
    address: "0x71C...a4b",
    lastMsg: "ä½ åˆšæ‰å‘çš„é‚£ä¸ªä»£ç è¿è¡Œäº†å—ï¼Ÿ",
    time: "18:20",
  },
  {
    username: "Satoshi",
    publicKey: "key-v1-02",
    avatarSeed: "seed_1024",
    address: "0x1A2...c3d",
    lastMsg: "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks.",
    time: "18:15",
  },
  {
    username: "Vitalik",
    publicKey: "key-v1-03",
    avatarSeed: "seed_5566",
    address: "0xAbC...eF0",
    lastMsg: "æˆ‘ä»¬ä¸‹å‘¨çš„ä»¥å¤ªåŠå¼€å‘è€…ä¼šè®®ä½ å‚åŠ å—ï¼Ÿ",
    time: "17:50",
  },
  {
    username: "Elon Musk",
    publicKey: "key-v1-04",
    avatarSeed: "seed_x_ae",
    address: "0xDed...b01",
    lastMsg: "To the moon! ðŸš€",
    time: "17:45",
  },
  {
    username: "Ace",
    publicKey: "key-v1-05",
    avatarSeed: "seed_fire",
    address: "0x998...f22",
    lastMsg: "åœ¨è¿™ä¸ªå¤§æµ·çš„å°½å¤´ï¼Œä¸€å®šæœ‰ç­”æ¡ˆã€‚",
    time: "17:30",
  },
  {
    username: "Luffy",
    publicKey: "key-v1-06",
    avatarSeed: "seed_meat",
    address: "0x555...a11",
    lastMsg: "è‚‰ï¼æˆ‘è¦åƒè‚‰ï¼ðŸ–",
    time: "16:20",
  },
  {
    username: "Nami",
    publicKey: "key-v1-07",
    avatarSeed: "seed_gold",
    address: "0x888...777",
    lastMsg: "è¿™æ¬¡èˆªè¡Œçš„è´é‡Œå·²ç»ç»“ç®—æ¸…æ¥šäº†ã€‚",
    time: "16:15",
  },
  {
    username: "Zoro",
    publicKey: "key-v1-08",
    avatarSeed: "seed_sword",
    address: "0x111...222",
    lastMsg: "æˆ‘åˆè¿·è·¯äº†ï¼Œä½ åœ¨å“ªï¼Ÿ",
    time: "15:40",
  },
  {
    username: "Sanji",
    publicKey: "key-v1-09",
    avatarSeed: "seed_cook",
    address: "0x333...444",
    lastMsg: "ä»Šå¤©çš„å¥³å£«åˆé¤å‡†å¤‡å¥½äº†ã€‚â˜•",
    time: "15:10",
  },
  {
    username: "Robin",
    publicKey: "key-v1-10",
    avatarSeed: "seed_book",
    address: "0x666...999",
    lastMsg: "åŽ†å²çš„çœŸç›¸æ€»æ˜¯è—åœ¨çŸ³ç¢‘ä¹‹åŽã€‚",
    time: "14:55",
  },
  {
    username: "Chopper",
    publicKey: "key-v1-11",
    avatarSeed: "seed_candy",
    address: "0x000...111",
    lastMsg: "å°±ç®—ä½ å¤¸æˆ‘æˆ‘ä¹Ÿä¸ä¼šé«˜å…´çš„ï¼Œæ··è›‹ï½ž",
    time: "14:20",
  },
  {
    username: "Franky",
    publicKey: "key-v1-12",
    avatarSeed: "seed_super",
    address: "0x222...333",
    lastMsg: "SUUUUPER!!! ðŸ¤–",
    time: "14:05",
  },
  {
    username: "Brook",
    publicKey: "key-v1-13",
    avatarSeed: "seed_soul",
    address: "0x444...555",
    lastMsg: "è™½ç„¶æˆ‘å·²ç»æ²¡æœ‰çœ¼ç›äº†ï¼Œä½†æˆ‘çœ‹å¾—å¾ˆæ¸…æ¥šã€‚å“Ÿå‘µå‘µå‘µï½ž",
    time: "13:40",
  },
  {
    username: "Jinbe",
    publicKey: "key-v1-14",
    avatarSeed: "seed_fish",
    address: "0x777...888",
    lastMsg: "ä»ä¹‰ç¤¼æ™ºï¼Œå¾è¾ˆä¹‹æœ¬ã€‚",
    time: "13:20",
  },
  {
    username: "Steve Jobs",
    publicKey: "key-v1-15",
    avatarSeed: "seed_apple",
    address: "0x999...000",
    lastMsg: "Stay hungry, stay foolish.",
    time: "12:55",
  },
  {
    username: "Bill Gates",
    publicKey: "key-v1-16",
    avatarSeed: "seed_ms",
    address: "0xAAA...BBB",
    lastMsg: "ä½ å¯¹æœ€è¿‘çš„ AI å‘å±•æ€Žä¹ˆçœ‹ï¼Ÿ",
    time: "12:30",
  },
  {
    username: "Sam Altman",
    publicKey: "key-v1-17",
    avatarSeed: "seed_openai",
    address: "0xCCC...DDD",
    lastMsg: "AGI is coming sooner than we think.",
    time: "12:10",
  },
  {
    username: "Linus Torvalds",
    publicKey: "key-v1-18",
    avatarSeed: "seed_linux",
    address: "0xEEE...FFF",
    lastMsg: "Talk is cheap, show me the code.",
    time: "11:50",
  },
  {
    username: "Jeff Bezos",
    publicKey: "key-v1-19",
    avatarSeed: "seed_amazon",
    address: "0x123...456",
    lastMsg: "It's always Day 1.",
    time: "11:30",
  },
  {
    username: "Mark Zuckerberg",
    publicKey: "key-v1-20",
    avatarSeed: "seed_meta",
    address: "0x789...012",
    lastMsg: "æˆ‘ä»¬è¦æŠŠæ•´ä¸ªç¤¾äº¤ç½‘ç»œæ¬è¿›å…ƒå®‡å®™ã€‚",
    time: "11:05",
  },
  {
    username: "Jack Ma",
    publicKey: "key-v1-21",
    avatarSeed: "seed_alibaba",
    address: "0x345...678",
    lastMsg: "æˆ‘å¯¹é’±æ²¡æœ‰å…´è¶£ã€‚",
    time: "10:45",
  },
  {
    username: "Pony Ma",
    publicKey: "key-v1-22",
    avatarSeed: "seed_tencent",
    address: "0x901...234",
    lastMsg: "è¿™ä¸ªæ–°ç‰ˆæœ¬çš„å¾®ä¿¡ä½ è§‰å¾—æ€Žä¹ˆæ ·ï¼Ÿ",
    time: "10:20",
  },
  {
    username: "Zhang Yiming",
    publicKey: "key-v1-23",
    avatarSeed: "seed_tiktok",
    address: "0x567...890",
    lastMsg: "å§‹ç»ˆåˆ›ä¸šï¼Œä¿æŒå»¶è¿Ÿæ»¡è¶³ã€‚",
    time: "10:05",
  },
  {
    username: "Rick",
    publicKey: "key-v1-24",
    avatarSeed: "seed_c137",
    address: "0xABC...137",
    lastMsg: "Wubba Lubba Dub Dub!",
    time: "09:40",
  },
  {
    username: "Morty",
    publicKey: "key-v1-25",
    avatarSeed: "seed_morty",
    address: "0xDEF...456",
    lastMsg: "Oh geez, Rick, I don't know about this...",
    time: "09:35",
  },
  {
    username: "Batman",
    publicKey: "key-v1-26",
    avatarSeed: "seed_gotham",
    address: "0x000...bat",
    lastMsg: "I am vengeance. I am the night.",
    time: "03:00",
  },
  {
    username: "Joker",
    publicKey: "key-v1-27",
    avatarSeed: "seed_ha",
    address: "0x666...lol",
    lastMsg: "Why so serious? HA HA HA!",
    time: "02:55",
  },
  {
    username: "Spider-Man",
    publicKey: "key-v1-28",
    avatarSeed: "seed_nyc",
    address: "0xweb...001",
    lastMsg: "Your friendly neighborhood Spider-Man.",
    time: "æ˜¨æ—¥",
  },
  {
    username: "Iron Man",
    publicKey: "key-v1-29",
    avatarSeed: "seed_stark",
    address: "0x300...love",
    lastMsg: "I love you three thousand.",
    time: "æ˜¨æ—¥",
  },
  {
    username: "Captain America",
    publicKey: "key-v1-30",
    avatarSeed: "seed_shield",
    address: "0xusa...001",
    lastMsg: "I can do this all day.",
    time: "æ˜¨æ—¥",
  },
  {
    username: "Thanos",
    publicKey: "key-v1-31",
    avatarSeed: "seed_snap",
    address: "0x50p...cent",
    lastMsg: "I am inevitable.",
    time: "æ˜¨æ—¥",
  },
  {
    username: "Dumbledore",
    publicKey: "key-v1-32",
    avatarSeed: "seed_hp",
    address: "0xmag...ic1",
    lastMsg: "å†³å®šæˆ‘ä»¬æˆä¸ºä»€ä¹ˆæ ·äººçš„ï¼Œæ˜¯æˆ‘ä»¬çš„é€‰æ‹©ã€‚",
    time: "æ˜¨æ—¥",
  },
  {
    username: "Voldemort",
    publicKey: "key-v1-33",
    avatarSeed: "seed_dark",
    address: "0xnos...e00",
    lastMsg: "Avada Kedavra!",
    time: "æ˜¨æ—¥",
  },
  {
    username: "Neo",
    publicKey: "key-v1-34",
    avatarSeed: "seed_matrix",
    address: "0x010...101",
    lastMsg: "Knock, knock, Neo.",
    time: "2æœˆ15æ—¥",
  },
  {
    username: "Morpheus",
    publicKey: "key-v1-35",
    avatarSeed: "seed_pill",
    address: "0xred...blu",
    lastMsg: "ä½ é€‰æ‹©çº¢è¯ä¸¸è¿˜æ˜¯è“è¯ä¸¸ï¼Ÿ",
    time: "2æœˆ15æ—¥",
  },
  {
    username: "Master Chief",
    publicKey: "key-v1-36",
    avatarSeed: "seed_halo",
    address: "0x117...000",
    lastMsg: "Wake me when you need me.",
    time: "2æœˆ14æ—¥",
  },
  {
    username: "Kratos",
    publicKey: "key-v1-37",
    avatarSeed: "seed_god",
    address: "0xwar...001",
    lastMsg: "BOY!",
    time: "2æœˆ14æ—¥",
  },
  {
    username: "Ellie",
    publicKey: "key-v1-38",
    avatarSeed: "seed_last",
    address: "0x911...lou",
    lastMsg: "Endure and survive.",
    time: "2æœˆ13æ—¥",
  },
  {
    username: "Geralt",
    publicKey: "key-v1-39",
    avatarSeed: "seed_witcher",
    address: "0xtea...m_y",
    lastMsg: "æ¥å±€æ˜†ç‰¹ç‰Œå—ï¼Ÿ",
    time: "2æœˆ12æ—¥",
  },
  {
    username: "Ciri",
    publicKey: "key-v1-40",
    avatarSeed: "seed_space",
    address: "0xtime...001",
    lastMsg: "æˆ‘ç©¿è¶Šäº†æ— æ•°ä¸ªä¸–ç•Œæ‰æ‰¾åˆ°ä½ ã€‚",
    time: "2æœˆ11æ—¥",
  },
  {
    username: "Solid Snake",
    publicKey: "key-v1-41",
    avatarSeed: "seed_metal_gear",
    address: "0xbox...001",
    lastMsg: "Keep you waiting, huh?",
    time: "2æœˆ10æ—¥",
  },
  {
    username: "Gordon Freeman",
    publicKey: "key-v1-42",
    avatarSeed: "seed_lambda",
    address: "0xhl3...nev",
    lastMsg: "...",
    time: "2æœˆ09æ—¥",
  },
  {
    username: "Mario",
    publicKey: "key-v1-43",
    avatarSeed: "seed_mario",
    address: "0xit_...me1",
    lastMsg: "It's-a me, Mario!",
    time: "2æœˆ08æ—¥",
  },
  {
    username: "Link",
    publicKey: "key-v1-44",
    avatarSeed: "seed_zelda",
    address: "0xhya...001",
    lastMsg: "Hyaaaa! Tsk! Hah!",
    time: "2æœˆ07æ—¥",
  },
  {
    username: "Cloud Strife",
    publicKey: "key-v1-45",
    avatarSeed: "seed_ff7",
    address: "0xfff...007",
    lastMsg: "Not interested.",
    time: "2æœˆ06æ—¥",
  },
  {
    username: "Sephiroth",
    publicKey: "key-v1-46",
    avatarSeed: "seed_one_wing",
    address: "0xbad...boy",
    lastMsg: "I will never be a memory.",
    time: "2æœˆ05æ—¥",
  },
  {
    username: "Darth Vader",
    publicKey: "key-v1-47",
    avatarSeed: "seed_sith",
    address: "0xdar...k_s",
    lastMsg: "I am your father.",
    time: "2æœˆ04æ—¥",
  },
  {
    username: "Yoda",
    publicKey: "key-v1-48",
    avatarSeed: "seed_jedi",
    address: "0xfor...ce1",
    lastMsg: "Do or do not. There is no try.",
    time: "2æœˆ03æ—¥",
  },
  {
    username: "Sherlock",
    publicKey: "key-v1-49",
    avatarSeed: "seed_221b",
    address: "0xdet...ect",
    lastMsg: "æŽ’é™¤æŽ‰æ‰€æœ‰ä¸å¯èƒ½ï¼Œå‰©ä¸‹çš„æ— è®ºå¤šä¹ˆç¦»å¥‡ï¼Œéƒ½æ˜¯çœŸç›¸ã€‚",
    time: "2æœˆ02æ—¥",
  },
  {
    username: "Watson",
    publicKey: "key-v1-50",
    avatarSeed: "seed_doctor",
    address: "0xhel...p50",
    lastMsg: "Sherlock, ä½ åˆåœ¨æŠ˜è…¾ä»€ä¹ˆå®žéªŒï¼Ÿ",
    time: "2æœˆ01æ—¥",
  },
];
export function ChatList() {
  const { navigation, ROUTES } = useApp();
  const handlePressItem = (item: ChatItemProps) => () => {
    navigation.navigate(ROUTES.Chat, { avatarSeed: item.avatarSeed, username: item.username });
  };
  return (
    <Container>
      <FlatList
        data={MOCK_DATA}
        ListHeaderComponent={SearchEntry}
        renderItem={({ item }) => <ChatItem {...item} onPress={handlePressItem(item)} />}
        keyExtractor={item => item.publicKey}
        contentContainerStyle={styles.listContentContainer}
        showsVerticalScrollIndicator={false}
        removeClippedSubviews={true}
        windowSize={5}
        initialNumToRender={10}
      />
    </Container>
  );
}

const styles = StyleSheet.create({
  listContentContainer: {
    flexGrow: 1,
    paddingBottom: 8,
  },
});
